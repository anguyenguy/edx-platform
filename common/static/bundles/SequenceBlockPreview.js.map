{"version":3,"sources":["webpack:///./common/static/xmodule/modules/js/001-46e7fadf5c6824193a9daade0a98abf6.js"],"names":["Sequence","element","runtime","self","removeBookmarkIconFromActiveNavItem","event","prototype","apply","addBookmarkIconToActiveNavItem","_change_sequential","direction","selectPrevious","selectNext","goto","toggleArrows","addToUpdatedProblems","problemId","newContentState","newState","hideTabTooltip","displayTabTooltip","arrowKeys","LEFT","UP","RIGHT","DOWN","updatedProblems","requestToken","$","data","el","find","path","contents","content_container","sr_container","num_contents","length","id","getCompletionUrl","handlerUrl","gotoPositionUrl","nextUrl","prevUrl","savePosition","showCompletion","keydownHandler","base_page_title","trim","bind","render","parseInt","selector","click","keypress","keyDownHandler","on","previousNav","focused","index","$navItemList","$sequenceList","parent","last","prev","removeClass","addClass","focus","nextNav","total","first","next","keydown","key","keyCode","$focused","currentTarget","size","preventDefault","updatePageTitle","currentUnitTitle","newPageTitle","positionLink","link_for","position","document","title","text","hookUpContentStateChangeEvent","anyUpdatedProblems","enableButton","buttonClass","buttonAction","removeAttr","disableButton","attr","updateButtonState","isAtBoundary","boundaryUrl","isFirstTab","isLastTab","nextButtonClass","previousButtonClass","unbind","newPosition","bookmarked","currentTab","sequenceLinks","mark_visited","update_completion","postWithPrefix","JSON","stringify","trigger","mark_active","eq","hasClass","html","each","latestData","latestContent","latestResponse","current_score","total_possible","attempts_used","XBlock","initializeBlocks","window","hasOwnProperty","update_schematics","alertTemplate","alertText","isBottomNav","widgetPlacement","undefined","location","href","target","closest","Logger","log","current_tab","target_tab","tab_count","widget_placement","queuePollerID","clearTimeout","gettext","interpolate","tab_name","alert","analyticsEventName","offset","targetUrl","always","scrollTo","previous","tabindex","usageKey","attributes","value","completionIndicators","usage_key","complete","call"],"mappings":"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","file":"SequenceBlockPreview.js","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/* eslint-disable no-underscore-dangle */\n/* globals Logger, interpolate */\n\n(function() {\n    'use strict';\n\n    this.Sequence = (function() {\n        function Sequence(element, runtime) {\n            var self = this;\n\n            this.removeBookmarkIconFromActiveNavItem = function(event) {\n                return Sequence.prototype.removeBookmarkIconFromActiveNavItem.apply(self, [event]);\n            };\n            this.addBookmarkIconToActiveNavItem = function(event) {\n                return Sequence.prototype.addBookmarkIconToActiveNavItem.apply(self, [event]);\n            };\n            this._change_sequential = function(direction, event) {\n                return Sequence.prototype._change_sequential.apply(self, [direction, event]);\n            };\n            this.selectPrevious = function(event) {\n                return Sequence.prototype.selectPrevious.apply(self, [event]);\n            };\n            this.selectNext = function(event) {\n                return Sequence.prototype.selectNext.apply(self, [event]);\n            };\n            this.goto = function(event) {\n                return Sequence.prototype.goto.apply(self, [event]);\n            };\n            this.toggleArrows = function() {\n                return Sequence.prototype.toggleArrows.apply(self);\n            };\n            this.addToUpdatedProblems = function(problemId, newContentState, newState) {\n                return Sequence.prototype.addToUpdatedProblems.apply(self, [problemId, newContentState, newState]);\n            };\n            this.hideTabTooltip = function(event) {\n                return Sequence.prototype.hideTabTooltip.apply(self, [event]);\n            };\n            this.displayTabTooltip = function(event) {\n                return Sequence.prototype.displayTabTooltip.apply(self, [event]);\n            };\n            this.arrowKeys = {\n                LEFT: 37,\n                UP: 38,\n                RIGHT: 39,\n                DOWN: 40\n            };\n\n            this.updatedProblems = {};\n            this.requestToken = $(element).data('request-token');\n            this.el = $(element).find('.sequence');\n            this.path = $('.path');\n            this.contents = this.$('.seq_contents');\n            this.content_container = this.$('#seq_content');\n            this.sr_container = this.$('.sr-is-focusable');\n            this.num_contents = this.contents.length;\n            this.id = this.el.data('id');\n            this.getCompletionUrl = runtime.handlerUrl(element, 'get_completion');\n            this.gotoPositionUrl = runtime.handlerUrl(element, 'goto_position');\n            this.nextUrl = this.el.data('next-url');\n            this.prevUrl = this.el.data('prev-url');\n            this.savePosition = this.el.data('save-position');\n            this.showCompletion = this.el.data('show-completion');\n            this.keydownHandler($(element).find('#sequence-list .tab'));\n            this.base_page_title = ($('title').data('base-title') || '').trim();\n            this.bind();\n            this.render(parseInt(this.el.data('position'), 10));\n        }\n\n        Sequence.prototype.$ = function(selector) {\n            return $(selector, this.el);\n        };\n\n        Sequence.prototype.bind = function() {\n            this.$('#sequence-list .nav-item').click(this.goto);\n            this.$('#sequence-list .nav-item').keypress(this.keyDownHandler);\n            this.el.on('bookmark:add', this.addBookmarkIconToActiveNavItem);\n            this.el.on('bookmark:remove', this.removeBookmarkIconFromActiveNavItem);\n            this.$('#sequence-list .nav-item').on('focus mouseenter', this.displayTabTooltip);\n            this.$('#sequence-list .nav-item').on('blur mouseleave', this.hideTabTooltip);\n        };\n\n        Sequence.prototype.previousNav = function(focused, index) {\n            var $navItemList,\n                $sequenceList = $(focused).parent().parent();\n            if (index === 0) {\n                $navItemList = $sequenceList.find('li').last();\n            } else {\n                $navItemList = $sequenceList.find('li:eq(' + index + ')').prev();\n            }\n            $sequenceList.find('.tab').removeClass('visited').removeClass('focused');\n            $navItemList.find('.tab').addClass('focused').focus();\n        };\n\n        Sequence.prototype.nextNav = function(focused, index, total) {\n            var $navItemList,\n                $sequenceList = $(focused).parent().parent();\n            if (index === total) {\n                $navItemList = $sequenceList.find('li').first();\n            } else {\n                $navItemList = $sequenceList.find('li:eq(' + index + ')').next();\n            }\n            $sequenceList.find('.tab').removeClass('visited').removeClass('focused');\n            $navItemList.find('.tab').addClass('focused').focus();\n        };\n\n        Sequence.prototype.keydownHandler = function(element) {\n            var self = this;\n            element.keydown(function(event) {\n                var key = event.keyCode,\n                    $focused = $(event.currentTarget),\n                    $sequenceList = $focused.parent().parent(),\n                    index = $sequenceList.find('li')\n                        .index($focused.parent()),\n                    total = $sequenceList.find('li')\n                        .size() - 1;\n                switch (key) {\n                case self.arrowKeys.LEFT:\n                    event.preventDefault();\n                    self.previousNav($focused, index);\n                    break;\n\n                case self.arrowKeys.RIGHT:\n                    event.preventDefault();\n                    self.nextNav($focused, index, total);\n                    break;\n\n                // no default\n                }\n            });\n        };\n\n        Sequence.prototype.displayTabTooltip = function(event) {\n            $(event.currentTarget).find('.sequence-tooltip').removeClass('sr');\n        };\n\n        Sequence.prototype.hideTabTooltip = function(event) {\n            $(event.currentTarget).find('.sequence-tooltip').addClass('sr');\n        };\n\n        Sequence.prototype.updatePageTitle = function() {\n            // update the page title to include the current section\n            var currentUnitTitle,\n                newPageTitle,\n                positionLink = this.link_for(this.position);\n\n            if (positionLink && positionLink.data('page-title')) {\n                currentUnitTitle = positionLink.data('page-title');\n                newPageTitle = currentUnitTitle + ' | ' + this.base_page_title;\n\n                if (newPageTitle !== document.title) {\n                    document.title = newPageTitle;\n                }\n\n                // Update the title section of the breadcrumb\n                $('.nav-item-sequence').text(currentUnitTitle);\n            }\n        };\n\n        Sequence.prototype.hookUpContentStateChangeEvent = function() {\n            var self = this;\n\n            return $('.problems-wrapper').bind('contentChanged', function(event, problemId, newContentState, newState) {\n                return self.addToUpdatedProblems(problemId, newContentState, newState);\n            });\n        };\n\n        Sequence.prototype.addToUpdatedProblems = function(problemId, newContentState, newState) {\n            /**\n            * Used to keep updated problem's state temporarily.\n            * params:\n            *   'problem_id' is problem id.\n            *   'new_content_state' is the updated content of the problem.\n            *   'new_state' is the updated state of the problem.\n            */\n\n            // initialize for the current sequence if there isn't any updated problem for this position.\n            if (!this.anyUpdatedProblems(this.position)) {\n                this.updatedProblems[this.position] = {};\n            }\n\n            // Now, put problem content and score against problem id for current active sequence.\n            this.updatedProblems[this.position][problemId] = [newContentState, newState];\n        };\n\n        Sequence.prototype.anyUpdatedProblems = function(position) {\n            /**\n            * check for the updated problems for given sequence position.\n            * params:\n            *   'position' can be any sequence position.\n            */\n            return typeof(this.updatedProblems[position]) !== 'undefined';\n        };\n\n        Sequence.prototype.enableButton = function(buttonClass, buttonAction) {\n            this.$(buttonClass)\n                .removeClass('disabled')\n                .removeAttr('disabled')\n                .click(buttonAction);\n        };\n\n        Sequence.prototype.disableButton = function(buttonClass) {\n            this.$(buttonClass).addClass('disabled').attr('disabled', true);\n        };\n\n        Sequence.prototype.updateButtonState = function(buttonClass, buttonAction, isAtBoundary, boundaryUrl) {\n            if (isAtBoundary && boundaryUrl === 'None') {\n                this.disableButton(buttonClass);\n            } else {\n                this.enableButton(buttonClass, buttonAction);\n            }\n        };\n\n        Sequence.prototype.toggleArrows = function() {\n            var isFirstTab, isLastTab, nextButtonClass, previousButtonClass;\n\n            this.$('.sequence-nav-button').unbind('click');\n\n            // previous button\n            isFirstTab = this.position === 1;\n            previousButtonClass = '.sequence-nav-button.button-previous';\n            this.updateButtonState(previousButtonClass, this.selectPrevious, isFirstTab, this.prevUrl);\n\n            // next button\n            // use inequality in case contents.length is 0 and position is 1.\n            isLastTab = this.position >= this.contents.length;\n            nextButtonClass = '.sequence-nav-button.button-next';\n            this.updateButtonState(nextButtonClass, this.selectNext, isLastTab, this.nextUrl);\n        };\n\n        Sequence.prototype.render = function(newPosition) {\n            var bookmarked, currentTab, sequenceLinks,\n                self = this;\n            if (this.position !== newPosition) {\n                if (this.position) {\n                    this.mark_visited(this.position);\n                    if (this.showCompletion) {\n                        this.update_completion(this.position);\n                    }\n                    if (this.savePosition) {\n                        $.postWithPrefix(this.gotoPositionUrl, JSON.stringify({\n                            position: newPosition\n                        }));\n                    }\n                }\n\n                // On Sequence change, fire custom event 'sequence:change' on element.\n                // Added for aborting video bufferization, see ../video/10_main.js\n                this.el.trigger('sequence:change');\n                this.mark_active(newPosition);\n                currentTab = this.contents.eq(newPosition - 1);\n                bookmarked = this.el.find('.active .bookmark-icon').hasClass('bookmarked');\n\n                // update the data-attributes with latest contents only for updated problems.\n                this.content_container\n                    .html(currentTab.text())  // xss-lint: disable=javascript-jquery-html\n                    .attr('aria-labelledby', currentTab.attr('aria-labelledby'))\n                    .data('bookmarked', bookmarked);\n\n\n                if (this.anyUpdatedProblems(newPosition)) {\n                    $.each(this.updatedProblems[newPosition], function(problemId, latestData) {\n                        var latestContent, latestResponse;\n                        latestContent = latestData[0];\n                        latestResponse = latestData[1];\n                        self.content_container\n                            .find(\"[data-problem-id='\" + problemId + \"']\")\n                            .data('content', latestContent)\n                            .data('problem-score', latestResponse.current_score)\n                            .data('problem-total-possible', latestResponse.total_possible)\n                            .data('attempts-used', latestResponse.attempts_used);\n                    });\n                }\n                XBlock.initializeBlocks(this.content_container, this.requestToken);\n\n                // For embedded circuit simulator exercises in 6.002x\n                if (window.hasOwnProperty('update_schematics')) {\n                    window.update_schematics();\n                }\n                this.position = newPosition;\n                this.toggleArrows();\n                this.hookUpContentStateChangeEvent();\n                this.updatePageTitle();\n                sequenceLinks = this.content_container.find('a.seqnav');\n                sequenceLinks.click(this.goto);\n\n                this.sr_container.focus();\n            }\n        };\n\n        Sequence.prototype.goto = function(event) {\n            var alertTemplate, alertText, isBottomNav, newPosition, widgetPlacement;\n            event.preventDefault();\n\n            // Links from courseware <a class='seqnav' href='n'>...</a>, was .target_tab\n            if ($(event.currentTarget).hasClass('seqnav')) {\n                newPosition = $(event.currentTarget).attr('href');\n            } else if ($(event.currentTarget).data('href') !== undefined) {\n                location.href = $(event.currentTarget).data('href');\n                return true;\n            // Tab links generated by backend template\n            } else {\n                newPosition = $(event.currentTarget).data('element');\n            }\n\n            if ((newPosition >= 1) && (newPosition <= this.num_contents)) {\n                isBottomNav = $(event.target).closest('nav[class=\"sequence-bottom\"]').length > 0;\n\n                if (isBottomNav) {\n                    widgetPlacement = 'bottom';\n                } else {\n                    widgetPlacement = 'top';\n                }\n\n                // Formerly known as seq_goto\n                Logger.log('edx.ui.lms.sequence.tab_selected', {\n                    current_tab: this.position,\n                    target_tab: newPosition,\n                    tab_count: this.num_contents,\n                    id: this.id,\n                    widget_placement: widgetPlacement\n                });\n\n                // On Sequence change, destroy any existing polling thread\n                // for queued submissions, see ../capa/display.js\n                if (window.queuePollerID) {\n                    window.clearTimeout(window.queuePollerID);\n                    delete window.queuePollerID;\n                }\n                this.render(newPosition);\n            } else {\n                alertTemplate = gettext('Sequence error! Cannot navigate to %(tab_name)s in the current SequenceModule. Please contact the course staff.');  // eslint-disable-line max-len\n                alertText = interpolate(alertTemplate, {\n                    tab_name: newPosition\n                }, true);\n                alert(alertText);  // eslint-disable-line no-alert\n            }\n        };\n\n        Sequence.prototype.selectNext = function(event) {\n            this._change_sequential('next', event);\n        };\n\n        Sequence.prototype.selectPrevious = function(event) {\n            this._change_sequential('previous', event);\n        };\n\n        // `direction` can be 'previous' or 'next'\n        Sequence.prototype._change_sequential = function(direction, event) {\n            var analyticsEventName, isBottomNav, newPosition, offset, targetUrl, widgetPlacement;\n\n            // silently abort if direction is invalid.\n            if (direction !== 'previous' && direction !== 'next') {\n                return;\n            }\n            event.preventDefault();\n            analyticsEventName = 'edx.ui.lms.sequence.' + direction + '_selected';\n            isBottomNav = $(event.target).closest('nav[class=\"sequence-bottom\"]').length > 0;\n\n            if (isBottomNav) {\n                widgetPlacement = 'bottom';\n            } else {\n                widgetPlacement = 'top';\n            }\n\n            if ((direction === 'next') && (this.position >= this.contents.length)) {\n                targetUrl = this.nextUrl;\n            } else if ((direction === 'previous')) {\n                targetUrl = this.prevUrl;\n            }\n\n            // Formerly known as seq_next and seq_prev\n            Logger.log(analyticsEventName, {\n                id: this.id,\n                current_tab: this.position,\n                tab_count: this.num_contents,\n                widget_placement: widgetPlacement\n            }).always(function() {\n                if (targetUrl) {\n                    // Wait to load the new page until we've attempted to log the event\n                    window.location.href = targetUrl;\n                }\n            });\n\n            // If we're staying on the page, no need to wait for the event logging to finish\n            if (!targetUrl) {\n                // If the bottom nav is used, scroll to the top of the page on change.\n                if (isBottomNav) {\n                    $.scrollTo(0, 150);\n                }\n\n                offset = {\n                    next: 1,\n                    previous: -1\n                };\n\n                newPosition = this.position + offset[direction];\n                this.render(newPosition);\n            }\n        };\n\n        Sequence.prototype.link_for = function(position) {\n            return this.$('#sequence-list .nav-item[data-element=' + position + ']');\n        };\n\n        Sequence.prototype.mark_visited = function(position) {\n            // Don't overwrite class attribute to avoid changing Progress class\n            var element = this.link_for(position);\n            element.attr({tabindex: '-1', 'aria-selected': 'false', 'aria-expanded': 'false'})\n                .removeClass('inactive')\n                .removeClass('active')\n                .removeClass('focused')\n                .addClass('visited');\n        };\n\n        Sequence.prototype.update_completion = function(position) {\n            var element = this.link_for(position);\n            var usageKey = element[0].attributes['data-id'].value;\n            var completionIndicators = element.find('.check-circle');\n            if (completionIndicators.length) {\n                $.postWithPrefix(this.getCompletionUrl, JSON.stringify({\n                    usage_key: usageKey\n                }), function(data) {\n                    if (data.complete === true) {\n                        completionIndicators.removeClass('is-hidden');\n                    }\n                });\n            }\n        };\n\n        Sequence.prototype.mark_active = function(position) {\n            // Don't overwrite class attribute to avoid changing Progress class\n            var element = this.link_for(position);\n            element.attr({tabindex: '0', 'aria-selected': 'true', 'aria-expanded': 'true'})\n                .removeClass('inactive')\n                .removeClass('visited')\n                .removeClass('focused')\n                .addClass('active');\n            this.$('.sequence-list-wrapper').focus();\n        };\n\n        Sequence.prototype.addBookmarkIconToActiveNavItem = function(event) {\n            event.preventDefault();\n            this.el.find('.nav-item.active .bookmark-icon').removeClass('is-hidden').addClass('bookmarked');\n            this.el.find('.nav-item.active .bookmark-icon-sr').text(gettext('Bookmarked'));\n        };\n\n        Sequence.prototype.removeBookmarkIconFromActiveNavItem = function(event) {\n            event.preventDefault();\n            this.el.find('.nav-item.active .bookmark-icon').removeClass('bookmarked').addClass('is-hidden');\n            this.el.find('.nav-item.active .bookmark-icon-sr').text('');\n        };\n\n        return Sequence;\n    }());\n}).call(this);\n\n}.call(window));\n\n\n// WEBPACK FOOTER //\n// ./common/static/xmodule/modules/js/001-46e7fadf5c6824193a9daade0a98abf6.js"],"sourceRoot":""}